{% extends "base.html.twig" %}

{% block title %}
	Fiche de
	{{owner.firstName}}
	{{owner.lastName}}
{% endblock %}

{% block body %}
	<ol class="breadcrumb">
		<li class="breadcrumb-item">
			<a href="{{path('homepage')}}">Accueil</a>
		</li>
		<li class="breadcrumb-item">
			<a href="{{path('owner_list')}}">Propriétaires</a>
		</li>
		<li class="breadcrumb-item active">{{owner.firstName}}
			{{owner.lastName}}</li>
	</ol>

	<h1>Fiche de
		{{owner.firstName}}
		{{owner.lastName}}</h1>

	<div class="card mb-4">
		<div class="row">

			<div class="col-md-6 pe-md-0">
				<div class="card-header fw-bold fst-italic">Nom</div>
				<div class="card-body">
					<p class="card-text text-dark mb-4">{{owner.lastName}}</p>
				</div>
				<div class="card-header fw-bold fst-italic">Prénom</div>
				<div class="card-body">
					<p class="card-text text-dark mb-4">{{owner.firstName}}</p>
				</div>
				<div class="card-header fw-bold fst-italic">Adresse</div>
				<div class="card-body">
					<p class="card-text text-dark mb-4">{{owner.street}}</p>
				</div>
				<div class="card-header fw-bold fst-italic">Code postal</div>
				<div class="card-body">
					<p class="card-text text-dark mb-4">{{owner.zip}}</p>
				</div>
				<div class="card-header fw-bold fst-italic">Ville</div>
				<div class="card-body">
					<p class="card-text text-dark mb-4">{{owner.city}}</p>
				</div>
			</div>

			<div class="col-md-6 ps-md-0">
				<div class="card-header fw-bold fst-italic">Téléphone</div>
				<div class="card-body">
					<p class="card-text text-dark mb-4">{{owner.phone}}</p>
				</div>
				<div class="card-header fw-bold fst-italic">Email</div>
				<div class="card-body">
					<p class="card-text text-dark mb-4">
						<a href="mailto:{{owner.mail}}" class="text-dark">{{owner.mail}}</a>
					</p>
				</div>
			<div class="card-header fw-bold fst-italic">Commentaire</div>

			{% if (owner.comment == null) %}
				<div class="card-body">
					<p class="card-text text-dark mb-4">Aucun</p>
				</div>
			{% else %}
				<div class="card-body">
					<p class="card-text text-dark mb-4">{{owner.comment}}</p>
				</div>
			{% endif %}

			<div class="card-header fw-bold fst-italic">Date de création</div>
			<div class="card-body">
				<p class="card-text text-dark mb-4">{{owner.createdAt | format_datetime('short', 'short', locale='fr')}}</p>
			</div>
		</div>
	</div>
	<div class="row">
		<div class="ms-3 mb-4">
			<a href="{{urlGenerator.generate('owner_list')}}" class="btn btn-outline-primary">
				<i class="fa-regular fa-arrow-left"></i>
				Retour</a>

			<a href="{{urlGenerator.generate('owner_edit', {'id': owner.id})}}" class="btn btn-primary">Editer
				<i class="fa-solid fa-pen-to-square"></i>
			</a>
		</div>
	</div>
</div>

<h3 class="mb-3">Appartements</h3>
<div class="row">
	{% for apartment in apartments %}
		<div class="col-md-4">
			<div class="card text-dark mb-3">
				<div class="card-header">Référence ID
					{{apartment.id}}</div>
				<div class="card-body">
					<p class="card-text">{{apartment.street}}</p>
					<p class="card-text">{{apartment.zip}}</p>
					<p class="card-text">{{apartment.city}}</p>
					<a href="{{urlGenerator.generate('apartment_edit', {'id': apartment.id})}}" class="btn btn-sm btn-primary">Editer
						<i class="fa-solid fa-pen-to-square"></i>
					</a>
				</div>
			</div>
		</div>
	{% endfor %}
</div>{% endblock %}
